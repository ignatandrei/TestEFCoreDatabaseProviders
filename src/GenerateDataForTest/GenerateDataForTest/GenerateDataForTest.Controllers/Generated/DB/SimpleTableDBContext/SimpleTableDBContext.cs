//3.this was autogenerated by a tool. Do not modify! Use partial
using Microsoft.EntityFrameworkCore;
using System.Runtime.CompilerServices;
using Microsoft.Extensions.Configuration;
using Microsoft.Extensions.DependencyInjection;

namespace Generated;

public partial class RegisterSimpleTableDBContext : IRegisterContext
{
    public Type AddServices(IServiceCollection services, ConfigurationManager configuration){
        
        var cnString = configuration.GetConnectionString("SimpleTableDBContext");
        if (string.IsNullOrWhiteSpace(cnString))
        {
            throw new ArgumentException("please add  connection string SimpleTableDBContext into appsettings.json ");
        }

        services.AddDbContext<SimpleTableDBContext>(options =>
              {
              //options.UseSqlServer("Data Source=.;Initial Catalog=TestData;UId=sa;pwd=<YourStrong@Passw0rd>;TrustServerCertificate=true;");
              options.UseSqlServer(cnString);
              }
          );
                  services.AddTransient<ISearchDataDepartment, SearchDataDepartment>();
                  return typeof(SimpleTableDBContext);
    }
    
    [ModuleInitializer]
    public static void AddMe()
    {
        Generated.UtilsControllers.registerContexts.Add(new RegisterSimpleTableDBContext());
    }

    
}

